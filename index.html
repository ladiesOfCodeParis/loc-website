<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Ladies of Code Paris</title>

    <link rel="stylesheet" href="./css/main.css" />
    <link rel="icon" href="./images/favicon.png" />
  </head>

  <body>
      <header class="header">
          <div class="logo">
                <img src="./images/LoC.gif" />
          </div>
          <nav>
            <ul>
                <li><a href="#meetups">Meetups</a></li>
                <li><a href="#actions">Actions</a></li>
                <li><a href="#partners">Partenaires</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
          </nav>
          <section class="code-editor">
            <span class="diese">#</span> <span id="loc">Ladies of Code est une communauté de</span>  <span id="community"></span>
          </section>
      </header>
      <script>document.addEventListener('DOMContentLoaded',function(event){
        // array with texts to type in typewriter
        var dataText = [ "Ladies of Code est une communauté ", "de développeuses senior", "de développeuses junior", "d'étudiantes en informatique", "de femmes en reconversion", "de femmes intéressées par le code."];
        
        // type one text in the typwriter
        // keeps calling itself until the text is finished
        function typeWriter(text, i, fnCallback, isFirstElement) {
          // chekc if text isn't finished yet
          if (i < (text.length)) {
            // add next character to p
            if ( isFirstElement ) {
           document.querySelector("#loc").innerHTML = text.substring(0, i+1) +'<span aria-hidden="true"></span>';
            }
            else {        
           document.querySelector("#community").innerHTML = text.substring(0, i+1) +'<span aria-hidden="true"></span>';
            }
            // wait for a while and call this function again for next character
            setTimeout(function() {
              typeWriter(text, i + 1, fnCallback, isFirstElement)
            }, 100);
          }
          // text finished, call callback if there is a callback function
          else if (typeof fnCallback == 'function') {
            // call callback after timeout
            setTimeout(fnCallback, 700);
          }
        }
        // start a typewriter animation for a text in the dataText array
         function StartTextAnimation(i) {
           if (typeof dataText[i] == 'undefined'){
              setTimeout(function() {
                StartTextAnimation(0);
              }, 20000);
           }
           // check if dataText[i] exists
          if (i < dataText[i].length) {
            // text exists! start typewriter animation
           typeWriter(dataText[i], 0, function(){
             // after callback (and whole text has been animated), start next text
             StartTextAnimation(i + 1);
           }, i === 0);
          }
        }
        // start the text animation
        StartTextAnimation(0);
      });</script>
  </body>
</html>